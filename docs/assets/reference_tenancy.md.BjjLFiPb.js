import{_ as e,c as n,o as t,a4 as a}from"./chunks/framework.ZNwHIQsX.js";const f=JSON.parse(`{"title":"Raydium Framework's Tenancy Component","description":"","frontmatter":{},"headers":[],"relativePath":"reference/tenancy.md","filePath":"reference/tenancy.md"}`),i={name:"reference/tenancy.md"},o=a('<h1 id="raydium-framework-s-tenancy-component" tabindex="-1">Raydium Framework&#39;s Tenancy Component <a class="header-anchor" href="#raydium-framework-s-tenancy-component" aria-label="Permalink to &quot;Raydium Framework&#39;s Tenancy Component&quot;">​</a></h1><h2 id="overview" tabindex="-1">Overview <a class="header-anchor" href="#overview" aria-label="Permalink to &quot;Overview&quot;">​</a></h2><p>The Tenancy component within the Raydium Framework is dedicated to enabling and managing multi-tenant configurations, where a single application instance serves multiple tenants, each with its own set of resources and configurations. This component is crucial for applications that require isolation between tenants for security, data privacy, or customization purposes.</p><h2 id="key-functionalities" tabindex="-1">Key Functionalities <a class="header-anchor" href="#key-functionalities" aria-label="Permalink to &quot;Key Functionalities&quot;">​</a></h2><h3 id="multi-tenant-initialization" tabindex="-1">Multi-Tenant Initialization <a class="header-anchor" href="#multi-tenant-initialization" aria-label="Permalink to &quot;Multi-Tenant Initialization&quot;">​</a></h3><ul><li><strong>Tenant Configuration Loading</strong>: Dynamically loads tenant-specific configurations based on the HTTP host, enabling the application to adjust its environment and settings per tenant.</li><li><strong>Tenant Constants Definition</strong>: Defines essential constants that are specific to the current tenant, such as the tenant ID and tenant-specific paths.</li></ul><h3 id="environment-configuration" tabindex="-1">Environment Configuration <a class="header-anchor" href="#environment-configuration" aria-label="Permalink to &quot;Environment Configuration&quot;">​</a></h3><ul><li><strong>Dotenv Integration</strong>: Utilizes Dotenv for environment variable management, ensuring that each tenant&#39;s environment variables are securely loaded and accessible within the application.</li></ul><h3 id="error-handling-and-termination" tabindex="-1">Error Handling and Termination <a class="header-anchor" href="#error-handling-and-termination" aria-label="Permalink to &quot;Error Handling and Termination&quot;">​</a></h3><ul><li><strong>Error and Exception Management</strong>: Provides robust error handling mechanisms, including the capability to terminate the application with informative error messages if tenant configuration issues arise.</li></ul><h2 id="component-lifecycle" tabindex="-1">Component Lifecycle <a class="header-anchor" href="#component-lifecycle" aria-label="Permalink to &quot;Component Lifecycle&quot;">​</a></h2><h3 id="initialization" tabindex="-1">Initialization <a class="header-anchor" href="#initialization" aria-label="Permalink to &quot;Initialization&quot;">​</a></h3><p>Upon instantiation, the Tenancy component requires the base application path and the site configuration directory. It then proceeds to check for the existence of a <code>tenancy.php</code> configuration file and loads it if available.</p><h3 id="multi-tenant-setup" tabindex="-1">Multi-Tenant Setup <a class="header-anchor" href="#multi-tenant-setup" aria-label="Permalink to &quot;Multi-Tenant Setup&quot;">​</a></h3><p>If multi-tenancy is allowed (<code>ALLOW_MULTITENANT</code> is defined and set to <code>true</code>), the component sets up the multi-tenant environment by:</p><ul><li>Validating landlord database credentials.</li><li>Fetching the tenant&#39;s information based on the domain.</li><li>Defining tenant-specific constants.</li><li>Regenerating the tenant&#39;s <code>.env</code> <a href="./../guide/environment-file.html">environment file</a> if necessary.</li></ul><h3 id="tenant-specific-constant-definition" tabindex="-1">Tenant-Specific Constant Definition <a class="header-anchor" href="#tenant-specific-constant-definition" aria-label="Permalink to &quot;Tenant-Specific Constant Definition&quot;">​</a></h3><p>The component defines constants critical for the operation of a multi-tenant environment, such as <code>APP_TENANT_ID</code>, which is unique to each tenant, and <code>IS_MULTITENANT</code>, indicating the multi-tenant mode.</p><h3 id="environment-file-regeneration" tabindex="-1">Environment File Regeneration <a class="header-anchor" href="#environment-file-regeneration" aria-label="Permalink to &quot;Environment File Regeneration&quot;">​</a></h3><p>For tenants that do not have an existing <code>.env</code> file, the Tenancy component utilizes the <code>EnvGenerator</code> to create a new <code>.env</code> file with tenant-specific configurations, ensuring that the application is correctly configured for each tenant.</p><h2 id="integration-in-the-raydium-framework" tabindex="-1">Integration in the Raydium Framework <a class="header-anchor" href="#integration-in-the-raydium-framework" aria-label="Permalink to &quot;Integration in the Raydium Framework&quot;">​</a></h2><p>The Tenancy component is integral to applications that require multi-tenancy support, seamlessly integrating with the Raydium Framework&#39;s lifecycle. It ensures that each tenant&#39;s environment is correctly set up before the application starts, providing a tailored experience for each tenant while maintaining isolation and security.</p><h2 id="usage-guidelines" tabindex="-1">Usage Guidelines <a class="header-anchor" href="#usage-guidelines" aria-label="Permalink to &quot;Usage Guidelines&quot;">​</a></h2><p>To effectively leverage the Tenancy component within a multi-tenant application:</p><ul><li>Ensure that the <code>ALLOW_MULTITENANT</code> constant is defined and set to <code>true</code> to enable multi-tenant support.</li><li>Provide a <code>tenancy.php</code> configuration file with necessary tenant definitions and settings.</li><li>Ensure that the landlord&#39;s database credentials are correctly specified in the environment variables.</li></ul><blockquote><p>The Tenancy component is essential for Raydium Framework applications that serve multiple tenants from a single application instance. By enabling dynamic tenant configuration loading, tenant isolation, and secure environment management, the Tenancy component facilitates the development of scalable and secure multi-tenant applications, adhering to best practices in software architecture and cloud-native application design.</p></blockquote>',26),r=[o];function c(s,l,d,h,u,m){return t(),n("div",null,r)}const g=e(i,[["render",c]]);export{f as __pageData,g as default};
