<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Multi-Tenant Application | Raydium</title>
    <meta name="description" content="Effortlessly develop scalable WordPress applications that support multiple tenants from a single installation.">
    <meta name="generator" content="VitePress v1.0.1">
    <link rel="preload stylesheet" href="/wpframework/assets/style.B7tfWvNk.css" as="style">
    
    <script type="module" src="/wpframework/assets/app.sMU12c7E.js"></script>
    <link rel="preload" href="/wpframework/assets/inter-roman-latin.Bu8hRsVA.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/wpframework/assets/chunks/framework.ZNwHIQsX.js">
    <link rel="modulepreload" href="/wpframework/assets/chunks/theme.DLOG-rhA.js">
    <link rel="modulepreload" href="/wpframework/assets/multi-tenant.md.watdB4wa.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-a9a9e638><!--[--><!--]--><!--[--><span tabindex="-1" data-v-c3508ec8></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-c3508ec8> Skip to content </a><!--]--><!----><header class="VPNav" data-v-a9a9e638 data-v-f1e365da><div class="VPNavBar has-sidebar top" data-v-f1e365da data-v-40788ea0><div class="wrapper" data-v-40788ea0><div class="container" data-v-40788ea0><div class="title" data-v-40788ea0><div class="VPNavBarTitle has-sidebar" data-v-40788ea0 data-v-28a961f9><a class="title" href="/wpframework/" data-v-28a961f9><!--[--><!--]--><!----><span data-v-28a961f9>Raydium</span><!--[--><!--]--></a></div></div><div class="content" data-v-40788ea0><div class="content-body" data-v-40788ea0><!--[--><!--]--><div class="VPNavBarSearch search" data-v-40788ea0><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-40788ea0 data-v-492ea56d><span id="main-nav-aria-label" class="visually-hidden" data-v-492ea56d>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/wpframework/" tabindex="0" data-v-492ea56d data-v-ed5ac1f6><!--[--><span data-v-ed5ac1f6>Home</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/wpframework/guide/what-is-raydium.html" tabindex="0" data-v-492ea56d data-v-ed5ac1f6><!--[--><span data-v-ed5ac1f6>Guide</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/wpframework/reference/environment-variables.html" tabindex="0" data-v-492ea56d data-v-ed5ac1f6><!--[--><span data-v-ed5ac1f6>Reference</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-40788ea0 data-v-ead91a81><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-ead91a81 data-v-b79b56d4 data-v-4a1c76db><span class="check" data-v-4a1c76db><span class="icon" data-v-4a1c76db><!--[--><span class="vpi-sun sun" data-v-b79b56d4></span><span class="vpi-moon moon" data-v-b79b56d4></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-40788ea0 data-v-164c457f data-v-ee7a9424><!--[--><a class="VPSocialLink no-icon" href="https://github.com/devuri/wpframework" aria-label="github" target="_blank" rel="noopener" data-v-ee7a9424 data-v-717b8b75><span class="vpi-social-github" /></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-40788ea0 data-v-9b536d0b data-v-e5380155><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-e5380155><span class="vpi-more-horizontal icon" data-v-e5380155></span></button><div class="menu" data-v-e5380155><div class="VPMenu" data-v-e5380155 data-v-97491713><!----><!--[--><!--[--><!----><div class="group" data-v-9b536d0b><div class="item appearance" data-v-9b536d0b><p class="label" data-v-9b536d0b>Appearance</p><div class="appearance-action" data-v-9b536d0b><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-9b536d0b data-v-b79b56d4 data-v-4a1c76db><span class="check" data-v-4a1c76db><span class="icon" data-v-4a1c76db><!--[--><span class="vpi-sun sun" data-v-b79b56d4></span><span class="vpi-moon moon" data-v-b79b56d4></span><!--]--></span></span></button></div></div></div><div class="group" data-v-9b536d0b><div class="item social-links" data-v-9b536d0b><div class="VPSocialLinks social-links-list" data-v-9b536d0b data-v-ee7a9424><!--[--><a class="VPSocialLink no-icon" href="https://github.com/devuri/wpframework" aria-label="github" target="_blank" rel="noopener" data-v-ee7a9424 data-v-717b8b75><span class="vpi-social-github" /></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-40788ea0 data-v-5dea55bf><span class="container" data-v-5dea55bf><span class="top" data-v-5dea55bf></span><span class="middle" data-v-5dea55bf></span><span class="bottom" data-v-5dea55bf></span></span></button></div></div></div></div><div class="divider" data-v-40788ea0><div class="divider-line" data-v-40788ea0></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-a9a9e638 data-v-070ab83d><div class="container" data-v-070ab83d><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-070ab83d><span class="vpi-align-left menu-icon" data-v-070ab83d></span><span class="menu-text" data-v-070ab83d>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-070ab83d data-v-c9ba27ad><button data-v-c9ba27ad>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-a9a9e638 data-v-ec846e01><div class="curtain" data-v-ec846e01></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-ec846e01><span class="visually-hidden" id="sidebar-aria-label" data-v-ec846e01> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-ec846e01><section class="VPSidebarItem level-0 collapsible" data-v-ec846e01 data-v-2ea20db7><div class="item" role="button" tabindex="0" data-v-2ea20db7><div class="indicator" data-v-2ea20db7></div><h2 class="text" data-v-2ea20db7>Quick Start</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-2ea20db7><span class="vpi-chevron-right caret-icon" data-v-2ea20db7></span></div></div><div class="items" data-v-2ea20db7><!--[--><div class="VPSidebarItem level-1 is-link" data-v-2ea20db7 data-v-2ea20db7><div class="item" data-v-2ea20db7><div class="indicator" data-v-2ea20db7></div><a class="VPLink link link" href="/wpframework/guide/why-raydium.html" data-v-2ea20db7><!--[--><p class="text" data-v-2ea20db7>Why Raydium</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-2ea20db7 data-v-2ea20db7><div class="item" data-v-2ea20db7><div class="indicator" data-v-2ea20db7></div><a class="VPLink link link" href="/wpframework/guide/what-is-raydium.html" data-v-2ea20db7><!--[--><p class="text" data-v-2ea20db7>What Is Raydium</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-2ea20db7 data-v-2ea20db7><div class="item" data-v-2ea20db7><div class="indicator" data-v-2ea20db7></div><a class="VPLink link link" href="/wpframework/guide/getting-started.html" data-v-2ea20db7><!--[--><p class="text" data-v-2ea20db7>Getting Started</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-2ea20db7 data-v-2ea20db7><div class="item" data-v-2ea20db7><div class="indicator" data-v-2ea20db7></div><a class="VPLink link link" href="/wpframework/guide/installation.html" data-v-2ea20db7><!--[--><p class="text" data-v-2ea20db7>Installation</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-2ea20db7 data-v-2ea20db7><div class="item" data-v-2ea20db7><div class="indicator" data-v-2ea20db7></div><a class="VPLink link link" href="/wpframework/guide/migration.html" data-v-2ea20db7><!--[--><p class="text" data-v-2ea20db7>Migration</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-2ea20db7 data-v-2ea20db7><div class="item" data-v-2ea20db7><div class="indicator" data-v-2ea20db7></div><a class="VPLink link link" href="/wpframework/guide/deploy.html" data-v-2ea20db7><!--[--><p class="text" data-v-2ea20db7>Deploy</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-ec846e01><section class="VPSidebarItem level-0 collapsible collapsed" data-v-ec846e01 data-v-2ea20db7><div class="item" role="button" tabindex="0" data-v-2ea20db7><div class="indicator" data-v-2ea20db7></div><h2 class="text" data-v-2ea20db7>Customization</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-2ea20db7><span class="vpi-chevron-right caret-icon" data-v-2ea20db7></span></div></div><div class="items" data-v-2ea20db7><!--[--><div class="VPSidebarItem level-1 is-link" data-v-2ea20db7 data-v-2ea20db7><div class="item" data-v-2ea20db7><div class="indicator" data-v-2ea20db7></div><a class="VPLink link link" href="/wpframework/customization/app-config.html" data-v-2ea20db7><!--[--><p class="text" data-v-2ea20db7>App Configs</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-ec846e01><section class="VPSidebarItem level-0 collapsible collapsed" data-v-ec846e01 data-v-2ea20db7><div class="item" role="button" tabindex="0" data-v-2ea20db7><div class="indicator" data-v-2ea20db7></div><h2 class="text" data-v-2ea20db7>Upgrades</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-2ea20db7><span class="vpi-chevron-right caret-icon" data-v-2ea20db7></span></div></div><div class="items" data-v-2ea20db7><!--[--><div class="VPSidebarItem level-1 is-link" data-v-2ea20db7 data-v-2ea20db7><div class="item" data-v-2ea20db7><div class="indicator" data-v-2ea20db7></div><a class="VPLink link link" href="/wpframework/upgrade/env-config-upgrade.html" data-v-2ea20db7><!--[--><p class="text" data-v-2ea20db7>^0.0.5</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-ec846e01><section class="VPSidebarItem level-0 has-active" data-v-ec846e01 data-v-2ea20db7><div class="item" role="button" tabindex="0" data-v-2ea20db7><div class="indicator" data-v-2ea20db7></div><h2 class="text" data-v-2ea20db7>Advanced</h2><!----></div><div class="items" data-v-2ea20db7><!--[--><div class="VPSidebarItem level-1 is-link" data-v-2ea20db7 data-v-2ea20db7><div class="item" data-v-2ea20db7><div class="indicator" data-v-2ea20db7></div><a class="VPLink link link" href="/wpframework/premium-plugins.html" data-v-2ea20db7><!--[--><p class="text" data-v-2ea20db7>Premium Plugins</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-2ea20db7 data-v-2ea20db7><div class="item" data-v-2ea20db7><div class="indicator" data-v-2ea20db7></div><a class="VPLink link link" href="/wpframework/multi-tenant.html" data-v-2ea20db7><!--[--><p class="text" data-v-2ea20db7>Multi-Tenant</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-ec846e01><section class="VPSidebarItem level-0 collapsible collapsed" data-v-ec846e01 data-v-2ea20db7><div class="item" role="button" tabindex="0" data-v-2ea20db7><div class="indicator" data-v-2ea20db7></div><h2 class="text" data-v-2ea20db7>Reference</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-2ea20db7><span class="vpi-chevron-right caret-icon" data-v-2ea20db7></span></div></div><div class="items" data-v-2ea20db7><!--[--><div class="VPSidebarItem level-1 is-link" data-v-2ea20db7 data-v-2ea20db7><div class="item" data-v-2ea20db7><div class="indicator" data-v-2ea20db7></div><a class="VPLink link link" href="/wpframework/reference/configuration.html" data-v-2ea20db7><!--[--><p class="text" data-v-2ea20db7>Configs</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-2ea20db7 data-v-2ea20db7><div class="item" data-v-2ea20db7><div class="indicator" data-v-2ea20db7></div><a class="VPLink link link" href="/wpframework/reference/environment-variables.html" data-v-2ea20db7><!--[--><p class="text" data-v-2ea20db7>Environment</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-2ea20db7 data-v-2ea20db7><div class="item" data-v-2ea20db7><div class="indicator" data-v-2ea20db7></div><a class="VPLink link link" href="/wpframework/code/" data-v-2ea20db7><!--[--><p class="text" data-v-2ea20db7>code</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-a9a9e638 data-v-91765379><div class="VPDoc has-sidebar has-aside" data-v-91765379 data-v-83890dd9><!--[--><!--]--><div class="container" data-v-83890dd9><div class="aside" data-v-83890dd9><div class="aside-curtain" data-v-83890dd9></div><div class="aside-container" data-v-83890dd9><div class="aside-content" data-v-83890dd9><div class="VPDocAside" data-v-83890dd9 data-v-6d7b3c46><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" role="navigation" data-v-6d7b3c46 data-v-c14bfc45><div class="content" data-v-c14bfc45><div class="outline-marker" data-v-c14bfc45></div><div class="outline-title" role="heading" aria-level="2" data-v-c14bfc45>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-c14bfc45><span class="visually-hidden" id="doc-outline-aria-label" data-v-c14bfc45> Table of Contents for current page </span><ul class="VPDocOutlineItem root" data-v-c14bfc45 data-v-3f927ebe><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-6d7b3c46></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-83890dd9><div class="content-container" data-v-83890dd9><!--[--><!--]--><main class="main" data-v-83890dd9><div style="position:relative;" class="vp-doc _wpframework_multi-tenant" data-v-83890dd9><div><h1 id="multi-tenant-application" tabindex="-1">Multi-Tenant Application <a class="header-anchor" href="#multi-tenant-application" aria-label="Permalink to &quot;Multi-Tenant Application&quot;">​</a></h1><h2 id="overview" tabindex="-1">Overview <a class="header-anchor" href="#overview" aria-label="Permalink to &quot;Overview&quot;">​</a></h2><p>This document provides a guide to the architecture and operational flow of our Multi-Tenant Application. The framework is designed to support multiple tenants (websites), each with its unique configuration and customization capabilities, on a shared infrastructure.</p><h3 id="step-1-backup-your-site" tabindex="-1">Step 1: Backup Your Site <a class="header-anchor" href="#step-1-backup-your-site" aria-label="Permalink to &quot;Step 1: Backup Your Site&quot;">​</a></h3><p>Before making any changes, ensure you have a full backup of your WordPress files and database.</p><p>Install and activate the <a href="#">Tenancy plugin</a>, this will create the required database tables and admin area on the main site ( referred to as the Landlord site ).</p><h3 id="enabling-multi-tenancy-configuration" tabindex="-1">Enabling Multi-Tenancy Configuration <a class="header-anchor" href="#enabling-multi-tenancy-configuration" aria-label="Permalink to &quot;Enabling Multi-Tenancy Configuration&quot;">​</a></h3><p>To activate the multi-tenant functionality within your setup, follow these steps:</p><ol><li><p><strong>Access Configuration Files:</strong></p><ul><li>Ensure you&#39;re in your application&#39;s root directory. Look for the <code>configs</code> directory. If it doesn&#39;t exist, you&#39;ll need to create it to store your configuration files.</li></ul></li><li><p><strong>Modify Tenancy Configuration:</strong></p><ul><li>In the <code>configs</code> directory, locate the <code>tenancy.php</code> file. If it&#39;s not present, you should create it. This file will hold your tenancy-related configurations.</li><li>Here&#39;s an example of default values you might find or include in <code>tenancy.php</code>:<div class="language-php vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Default settings in tenancy.php</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">define</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;ALLOW_MULTITENANT&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Flag to enable/disable multi-tenancy</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">define</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;LANDLORD_UUID&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Identifier for the landlord or primary tenant</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">define</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;REQUIRE_TENANT_CONFIG&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Whether tenant-specific config is mandatory</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">define</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;TENANCY_WEB_ROOT&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;public&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Root directory for web assets</span></span></code></pre></div></li></ul></li><li><p><strong>Activate Multi-Tenant Mode:</strong></p><ul><li>To enable the multi-tenant, you need to change the <code>ALLOW_MULTITENANT</code> setting from <code>false</code> to <code>true</code>. This action activates the multi-tenancy capabilities of your application, allowing it to handle requests for multiple tenants.<div class="language-php vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">define</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;ALLOW_MULTITENANT&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Enable multi-tenancy</span></span></code></pre></div></li></ul></li><li><p><strong>Set the Landlord UUID:</strong></p><ul><li>Additionally, you&#39;ll need to specify the UUID for the landlord (main tenant). This unique identifier is typically provided at the bottom of the plugin&#39;s main page after you&#39;ve enabled the Tenancy Manager Plugin. If you have this information, update the following line accordingly:</li></ul><div class="language-php vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">define</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;LANDLORD_UUID&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;your-landlord-uuid-here&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><p>Replace <code>&#39;your-landlord-uuid-here&#39;</code> with your actual landlord UUID.</p></li></ol><h3 id="step-3-configuring-landlord-environment-settings" tabindex="-1">Step 3: Configuring Landlord Environment Settings <a class="header-anchor" href="#step-3-configuring-landlord-environment-settings" aria-label="Permalink to &quot;Step 3: Configuring Landlord Environment Settings&quot;">​</a></h3><p>To properly set up the Landlord environment for your multi-tenant application installation, follow these steps to ensure a proper database connection:</p><ol><li><p><strong>Backup Your Existing Environment File</strong>: Before making any changes, it&#39;s crucial to back up your current <code>.env</code> file.</p></li><li><p><strong>Create a New <code>.env</code> File</strong>: In the root directory of application installation, create a new <code>.env</code> file. This file will store the environment-specific configurations for the Landlord database (settings in this env file are discarded after initial setup of the Landlord).</p></li><li><p><strong>Configure Landlord Database Settings</strong>: Inside the newly created <code>.env</code> file, input the following configuration settings. These settings should match those of the main site (also referred to as the Landlord site) where the Tenancy plugin is installed. Adjust the values to reflect your specific Landlord database credentials:</p><div class="language-php vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Landlord Database Configuration</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">LANDLORD_DB_NAME</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      # The name of your Landlord database</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">LANDLORD_DB_USER</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      # The username for your Landlord database access</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">LANDLORD_DB_PASSWORD</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # The password for your Landlord database access</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">LANDLORD_DB_HOST</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">localhost</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # The hostname for your Landlord database server, typically &#39;localhost&#39;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">LANDLORD_DB_PREFIX</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">wp_lo6j2n6v_</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # The prefix for your Landlord database tables, adjust as needed</span></span></code></pre></div></li></ol><h2 id="domain-and-tenant-mapping" tabindex="-1">Domain and Tenant Mapping <a class="header-anchor" href="#domain-and-tenant-mapping" aria-label="Permalink to &quot;Domain and Tenant Mapping&quot;">​</a></h2><ul><li>Tenants are uniquely identified by a Universal Unique Identifier (UUID).</li><li>The mapping between a tenant&#39;s domain (derived from HTTP_HOST) and its UUID is crucial.</li></ul><h2 id="installation-steps" tabindex="-1">Installation Steps <a class="header-anchor" href="#installation-steps" aria-label="Permalink to &quot;Installation Steps&quot;">​</a></h2><blockquote><p><strong>Note</strong>: The uploads directory will be set to <code>/public/app/tenant/a345ea9515c/uploads</code>. Make sure to transfer or replicate your site files to this new directory. This setup uses the <code>tenant_id</code> for isolated file storage per tenant.</p></blockquote><h2 id="configuration-and-environment-files" tabindex="-1">Configuration and Environment Files <a class="header-anchor" href="#configuration-and-environment-files" aria-label="Permalink to &quot;Configuration and Environment Files&quot;">​</a></h2><ul><li>Tenant-specific configuration files are located as follows: <ul><li><code>.env</code>: <code>&quot;path/configs/a345ea9515c/.env&quot;</code></li><li><code>app.php</code>: <code>&quot;path/configs/a345ea9515c/app.php&quot;</code></li><li><code>config.php</code>: <code>&quot;path/configs/a345ea9515c/config.php&quot;</code></li></ul></li></ul><p>The framework supports distinct configurations for each tenant, enabling customized settings per site within a multi-tenant environment:</p><h4 id="locations" tabindex="-1">Locations <a class="header-anchor" href="#locations" aria-label="Permalink to &quot;Locations&quot;">​</a></h4><ul><li><strong>Environment File</strong>: Located at <code>path/configs/{tenant_id}/.env</code>, it stores environment-specific variables.</li><li><strong>PHP Configuration</strong>: Found at <code>path/configs/{tenant_id}/config.php</code>, this file contains PHP configuration file overrides.</li><li><strong>Framework Options</strong>: Found at <code>path/configs/{tenant_id}/app.php</code>, this file contains an array of options specific to the tenant.</li></ul><h4 id="loading-mechanism" tabindex="-1">Loading Mechanism <a class="header-anchor" href="#loading-mechanism" aria-label="Permalink to &quot;Loading Mechanism&quot;">​</a></h4><ol><li><strong>Tenant-Specific</strong>: The framework first attempts to load configurations from the tenant&#39;s directory.</li><li><strong>Fallback</strong>: In the absence of tenant-specific files, it defaults to the global <code>config.php</code> or in the case of options <code>app.php</code>.</li><li><strong>Overrides</strong>: Global settings in the default config can be overridden by tenant-specific files for flexibility.</li></ol><p><strong><code>REQUIRE_TENANT_CONFIG</code> Setting:</strong></p><blockquote><p><strong>Note:</strong> The <code>REQUIRE_TENANT_CONFIG</code> constant mandates the presence of tenant-specific configuration options <code>app.php</code>. When enabled (<code>true</code>), it requires that each tenant must have their own configuration file located at <code>config/{tenant_id}/app.php</code>. Conversely, when disabled (<code>false</code>), we can use a global <code>app.php</code> file. The default setting for this constant is <code>false</code>.</p></blockquote><p>This configuration toggles the enforcement of tenant-specific settings within the application. When enabled (<code>true</code>), it requires each tenant to have a dedicated <code>config/{tenant_id}/app.php</code> file, ensuring tailored settings per tenant. In the absence of a tenant-specific file, the application will signal an error, highlighting the necessity for individual configurations. By default, this setting is disabled (<code>false</code>), allowing for a shared <code>app.php</code> configuration across tenants, simplifying setup for environments where distinct tenant configurations are not critical.</p><h4 id="benefits" tabindex="-1">Benefits <a class="header-anchor" href="#benefits" aria-label="Permalink to &quot;Benefits&quot;">​</a></h4><ul><li>Enables per-tenant customizations.</li><li>Provides a fallback to ensure system stability.</li><li>Allows global settings to be overridden at the tenant level.</li></ul><p>This approach ensures a balance between customization for individual tenants and consistency across the framework.</p><h2 id="tenant-specific-variables" tabindex="-1">Tenant-Specific Variables <a class="header-anchor" href="#tenant-specific-variables" aria-label="Permalink to &quot;Tenant-Specific Variables&quot;">​</a></h2><ul><li>Each tenant&#39;s <code>.env</code> file can contain specific environment variables, such as: <ul><li><code>APP_TENANT_ID=a345ea9515c</code></li><li>Optionally, <code>APP_TENANT_SECRET</code> for additional security.</li></ul></li></ul><h2 id="customizing-tenant-configurations" tabindex="-1">Customizing Tenant Configurations <a class="header-anchor" href="#customizing-tenant-configurations" aria-label="Permalink to &quot;Customizing Tenant Configurations&quot;">​</a></h2><ul><li>Utilize <code>env(&#39;APP_TENANT_ID&#39;)</code> within the application to access and modify configurations dynamically for each tenant. It is also set as <code>APP_TENANT_ID</code> constant during initialization steps.</li></ul><h2 id="isolated-uploads-directory" tabindex="-1">Isolated Uploads Directory <a class="header-anchor" href="#isolated-uploads-directory" aria-label="Permalink to &quot;Isolated Uploads Directory&quot;">​</a></h2><ul><li>Media files for each tenant are stored in a separate directory, typically structured as <code>wp-content/tenant/{tenant_id}/uploads</code>. Depending on the framework&#39;s setup, the default path might vary, but it generally follows the format <code>app/tenant/{tenant_id}/uploads</code>.</li></ul><h2 id="shared-resources" tabindex="-1">Shared Resources <a class="header-anchor" href="#shared-resources" aria-label="Permalink to &quot;Shared Resources&quot;">​</a></h2><ul><li>Plugins and Themes are shared across tenants, optimizing resources and simplifying management.</li><li>The shared resources&#39; paths are defined in the <code>app.php</code> file and the framework&#39;s <code>composer.json</code>.</li></ul><h2 id="plugin-and-theme-management" tabindex="-1">Plugin and Theme Management <a class="header-anchor" href="#plugin-and-theme-management" aria-label="Permalink to &quot;Plugin and Theme Management&quot;">​</a></h2><ul><li>An MU (Must-Use) plugin controls the availability of specific plugins and themes for each tenant.</li><li>The <code>IS_MULTITENANT</code> constant aids in configuring resource availability and is particularly useful during tenant migrations or when converting a tenant to a standalone installation.</li></ul><h2 id="suitability-for-multi-tenant-architecture" tabindex="-1">Suitability for Multi-Tenant Architecture <a class="header-anchor" href="#suitability-for-multi-tenant-architecture" aria-label="Permalink to &quot;Suitability for Multi-Tenant Architecture&quot;">​</a></h2><p>While the Multi-Tenant Application offers efficient resource sharing and management, it&#39;s crucial to assess its suitability based on your specific needs:</p><h3 id="considerations" tabindex="-1">Considerations <a class="header-anchor" href="#considerations" aria-label="Permalink to &quot;Considerations&quot;">​</a></h3><ul><li><strong>Isolation</strong>: Full isolation might require alternative solutions if stringent separation is needed.</li><li><strong>Performance</strong>: High-demand applications may benefit from dedicated resources.</li><li><strong>Security</strong>: Additional measures might be necessary to meet specific security standards.</li><li><strong>Customization</strong>: Extensive per-tenant customizations could complicate the multi-tenant model.</li></ul><h3 id="evaluation" tabindex="-1">Evaluation <a class="header-anchor" href="#evaluation" aria-label="Permalink to &quot;Evaluation&quot;">​</a></h3><div class="caution custom-block github-alert"><p class="custom-block-title">CAUTION</p><p></p><p>Thoroughly evaluate your use case before adopting a multi-tenant architecture. For certain scenarios, a single-tenant or dedicated solution might be more appropriate.</p></div><p>The Multi-Tenant Application excels in scenarios prioritizing efficient management and shared infrastructure. It&#39;s an ideal choice if these factors align with your project goals.</p><blockquote><p>Every project is unique, so it&#39;s important to choose an architecture that fits your specific requirements and constraints.</p></blockquote><p><strong>Note: This documentation is continually evolving, and we welcome community contributions and feedback. If you have suggestions or notice areas needing improvement, please contribute via pull requests or contact our development team. Your input is invaluable in refining this guide.</strong></p></div></div></main><footer class="VPDocFooter" data-v-83890dd9 data-v-87be45d1><!--[--><!--]--><!----><nav class="prev-next" data-v-87be45d1><div class="pager" data-v-87be45d1><a class="VPLink link pager-link prev" href="/wpframework/premium-plugins.html" data-v-87be45d1><!--[--><span class="desc" data-v-87be45d1>Previous page</span><span class="title" data-v-87be45d1>Premium Plugins</span><!--]--></a></div><div class="pager" data-v-87be45d1><a class="VPLink link pager-link next" href="/wpframework/reference/configuration.html" data-v-87be45d1><!--[--><span class="desc" data-v-87be45d1>Next page</span><span class="title" data-v-87be45d1>Configs</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-a9a9e638 data-v-c970a860><div class="container" data-v-c970a860><p class="message" data-v-c970a860>Released under the <a href="https://github.com/devuri/wpframework/blob/master/LICENSE">MIT License</a>.</p><p class="copyright" data-v-c970a860>Copyright © <a href="https://github.com/devuri">Uriel Wilson</a></p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"guide_deploy.md\":\"D4wwxlIt\",\"guide_installation.md\":\"Bbd1FzCv\",\"guide_getting-started.md\":\"ExsGn4b7\",\"guide_what-is-raydium.md\":\"CU6dXuvP\",\"guide_migration.md\":\"YPKeUTdv\",\"index.md\":\"DhN72nxJ\",\"guide_why-raydium.md\":\"BeFYpRnk\",\"upgrade_env-config-upgrade.md\":\"B73abHbf\",\"slack_index.md\":\"DGxXwwKn\",\"multi-tenant.md\":\"watdB4wa\",\"reference_environment-variables.md\":\"CZRS87x_\",\"reference_configuration.md\":\"DtqZTR1V\",\"customization_app-config.md\":\"B1Ed_egZ\",\"changelog.md\":\"BpP-6lO4\",\"premium-plugins.md\":\"B12neH1R\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"Raydium\",\"description\":\"Effortlessly develop scalable WordPress applications that support multiple tenants from a single installation.\",\"base\":\"/wpframework/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"nav\":[{\"text\":\"Home\",\"link\":\"/\"},{\"text\":\"Guide\",\"link\":\"/guide/what-is-raydium\"},{\"text\":\"Reference\",\"link\":\"/reference/environment-variables\"}],\"sidebar\":[{\"text\":\"Quick Start\",\"collapsible\":true,\"collapsed\":false,\"items\":[{\"text\":\"Why Raydium\",\"link\":\"/guide/why-raydium\"},{\"text\":\"What Is Raydium\",\"link\":\"/guide/what-is-raydium\"},{\"text\":\"Getting Started\",\"link\":\"/guide/getting-started\"},{\"text\":\"Installation\",\"link\":\"/guide/installation\"},{\"text\":\"Migration\",\"link\":\"/guide/migration\"},{\"text\":\"Deploy\",\"link\":\"/guide/deploy\"}]},{\"text\":\"Customization\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"App Configs\",\"link\":\"/customization/app-config\"}]},{\"text\":\"Upgrades\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"^0.0.5\",\"link\":\"/upgrade/env-config-upgrade\"}]},{\"text\":\"Advanced\",\"items\":[{\"text\":\"Premium Plugins\",\"link\":\"/premium-plugins\"},{\"text\":\"Multi-Tenant\",\"link\":\"/multi-tenant\"}]},{\"text\":\"Reference\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"Configs\",\"link\":\"/reference/configuration\"},{\"text\":\"Environment\",\"link\":\"/reference/environment-variables\"},{\"text\":\"code\",\"link\":\"/code/\"}]}],\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/devuri/wpframework\"}],\"search\":{\"provider\":\"local\"},\"footer\":{\"message\":\"Released under the <a href=\\\"https://github.com/devuri/wpframework/blob/master/LICENSE\\\">MIT License</a>.\",\"copyright\":\"Copyright © <a href=\\\"https://github.com/devuri\\\">Uriel Wilson</a>\"}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>